---
// import { getRequest, startRequest } from "../request";

let requestId = "";
if (Astro.request.method === "POST") {
  const formData = await Astro.request.formData();
  const promptValue = formData.get("prompt");
let prompt = "";
if (promptValue !== null) {
  prompt = promptValue.toString();
}
//   requestId = await startRequest(prompt);
// } else {
//   requestId = Astro.url.searchParams.get("requestId");
// }
// const request = getRequest(requestId);
 ---

<div
hx-get={`/prompt?requestId=${requestId}`}
  hx-target="#result"
  hx-trigger= "load delay:50ms" 

  class="italic"
>
  <span>{prompt}</span>
</div>